{"optimized_code": "#include <bits/stdc++.h>\n\n#define ll long long\n\nusing namespace std;\n\nconst int Max = 1e6 + 9;\n\nvector<ll> a(Max);\n\nint main() {\n    int n, m;\n    cin >> n >> m;\n    for (int i = 0; i < n; i++) {\n        cin >> a[i];\n    }\n\n    vector<ll> dp(n + m + 1, LLONG_MAX);\n    dp[n - 1] = 0;\n\n    for (int i = n - 2; i >= 0; i--) {\n        for (int j = 0; j <= m && (i + j < n); j++) {\n            dp[i] = min(dp[i], dp[i + j] + abs(a[i] - a[i + j]));\n        }\n    }\n\n    cout << dp[0];\n}"}