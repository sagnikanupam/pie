{"optimized_code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define ll long long int\n\nint n, k;\nint a[1000005];\nint dp[1000005];\n\nint f(int i, int a[]) { \n    if (i == (n - 1)) return 0;\n    if (i >= n) return INT_MAX;\n    if (dp[i] != -1) return dp[i];\n\n    int ans = INT_MAX;\n    for (int j = 1; j <= k; j++) {\n        if (j + i > n - 1)\n            break;\n        int cost = abs(a[i] - a[i + j]);\n        ans = min(ans, cost + f(i + j, a));\n    }\n\n    dp[i] = ans;\n    return dp[i];\n}\n\nint main() {\n    ios::sync_with_stdio(false); cin.tie(0);\n    cin >> n >> k;\n    memset(dp, -1, sizeof(dp));\n    for (int i = 0; i < n; i++)\n        cin >> a[i];\n    cout << f(0, a) << endl;\n}"}