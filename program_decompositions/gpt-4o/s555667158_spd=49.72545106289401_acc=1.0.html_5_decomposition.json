{"optimized_code": "#include <bits/stdc++.h>\n#define maxn 1000010\n#define ll long long\n#define inf 0x3f3f3f3f\n#define read(x) scanf(\"%lld\", &x)\n#define abs_diff(x, y) abs(x - y)\n\nusing namespace std;\n\nll arr[maxn];\nll dp[maxn];\nll n, k;\n\nint main()\n{\n    memset(dp, 0, sizeof dp);\n    read(n);\n    read(k);\n\n    for (int i = 1; i <= n; i++)\n    {\n        dp[i] = inf;\n        read(arr[i]);\n    }\n\n    dp[1] = 0;\n    dp[2] = abs_diff(arr[2], arr[1]);\n    for (int i = 2; i <= n; i++)\n    {\n        int limit = max(i - k, 1ll);\n        for (int j = i - 1; j >= limit; j--)\n            dp[i] = min(dp[i], dp[j] + abs_diff(arr[i], arr[j]));\n    }\n\n    cout << dp[n] << endl;\n    return 0;\n}\n"}