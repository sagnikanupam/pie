{"optimized_code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint main() {\n    int s; cin >> s;\n    unordered_set<int> se = {s};\n\n    int current = s;\n    int steps = 1;\n    int pre = s;\n    \n    while (true) {\n        if (se.find(current) != se.end()) {\n            cout << steps << endl;\n            return 0;\n        }\n\n        se.insert(current);\n        pre = current;  // Store current in pre before updating it.\n\n        if (current % 2 == 0) {\n            current /= 2;\n        } else {\n            current = 3 * current + 1;\n        }\n\n        steps++;\n    }\n}"}