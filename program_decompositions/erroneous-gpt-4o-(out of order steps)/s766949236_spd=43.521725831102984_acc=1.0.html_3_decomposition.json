{"optimized_code": "#include <iostream>\n#include <map>\n#include <queue>\n#include <cmath>\n#include <vector>\n#include <string>\n#include <algorithm>\n#include <functional>\n\nusing namespace std;\n\nint N, M; \nbool used[1 << 18]; \nint A[1 << 18]; // Use this array to count penalties directly\n\nint main() {\n    cin >> N >> M;\n\n    for (int i = 1; i <= M; i++) {\n        int a;\n        string b;\n        cin >> a >> b;\n        if (b == \"AC\") used[a] = true;\n        else if (!used[a]) A[a]++; // Directly count penalties here\n    }\n\n    int sum1 = 0, sum2 = 0;\n    for (int i = 1; i <= N; i++) {\n        if (used[i]) {\n            sum1++;\n            sum2 += A[i]; // Sum penalties from A array\n        }\n    }\n\n    cout << sum1 << \" \" << sum2 << endl;\n\n    return 0;\n}\n"}