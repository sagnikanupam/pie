{"optimized_code": "#include<bits/stdc++.h>\n\nusing namespace std;\n\nint main(){\n  int s;\n  cin >> s;\n  vector<int> a(10000, 0);\n  s = s % 10000; // To ensure s is within bounds initially\n  a.at(s)++;\n  for(int i=2; i<1000000; i++){\n    if(s%2 == 0){\n      s /= 2;\n    } else {\n      s = s * 3 + 1;\n    }\n    s = s % 10000; // To keep s within the vector bounds\n    a.at(s)++;\n    if(a.at(s) == 2){\n      cout << i << endl;\n      break;\n    }\n  }\n  return 0;\n}\n"}