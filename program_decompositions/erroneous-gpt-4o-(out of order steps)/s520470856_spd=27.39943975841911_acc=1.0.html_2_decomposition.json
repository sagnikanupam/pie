{"optimized_code": "#include<bits/stdc++.h>\n\nusing namespace std;\n\nint main(){\n  int s;\n  cin >> s;\n  vector<int> a;\n  s = s % 10000; // To ensure s is within bounds initially\n  a.push_back(s);\n  for(int i=2; i<1000000; i++){\n    if(s%2 == 0){\n      s /= 2;\n    } else {\n      s = s * 3 + 1;\n    }\n    s = s % 10000; // To keep s within bounds\n    if(find(a.begin(), a.end(), s) != a.end()){\n      cout << i << endl;\n      break;\n    }\n    a.push_back(s);\n  }\n  return 0;\n}\n"}