{"optimized_code": "#include<bits/stdc++.h>\n\nusing namespace std;\n\nint main(){\n  int s;\n  cin >> s;\n  unordered_set<int> a; // Use an unordered_set for faster lookup and insertion\n  a.insert(s % 10000); // Store the initial value in the set\n  for(int i=2; i<10000; i++){ // Set loop limit to 10,000\n    s = (s % 2 == 0) ? s / 2 : s * 3 + 1; // Simplified single-line calculation\n    int current = s % 10000; // Calculate the current value with modulo\n    if(!a.insert(current).second){ // Check if the current value exists in the set\n      cout << i << endl;\n      break;\n    }\n  }\n  return 0;\n}\n"}