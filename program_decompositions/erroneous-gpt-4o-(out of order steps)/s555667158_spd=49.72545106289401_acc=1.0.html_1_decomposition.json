{"optimized_code": "#include <bits/stdc++.h>\n\n#define maxn 1000010\n#define ll long long\n#define inf 0x3f3f3f3f\n\nusing namespace std;\n\nll h[maxn];\nll dp[maxn];\nll n, k;\n\nint main()\n{\n    memset(h, 0, sizeof h);\n    scanf(\"%lld%lld\", &n, &k);\n\n    for(int i = 1; i <= n; i++)\n    {\n        dp[i] = inf;\n        scanf(\"%lld\", &h[i]);\n    }\n\n    dp[1] = 0;\n    dp[0] = 0;\n    dp[2] = abs(h[2] - h[1]);\n\n    for(int i = 2; i <= n; i++)\n    {\n        for(int j = i - 1; j >= max(i - k, 1ll); j--)\n            dp[i] = min(dp[i], dp[j] + abs(h[i] - h[j]));\n    }\n\n    printf(\"%lld\\n\", dp[n]);\n    return 0;\n}\n"}