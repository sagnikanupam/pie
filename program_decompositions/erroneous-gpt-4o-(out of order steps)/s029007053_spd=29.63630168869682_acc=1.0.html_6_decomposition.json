{"optimized_code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n\nint main() {\n    int n, k;\n    std::cin >> n >> k;\n    \n    std::vector<int> w(n);\n    std::vector<int> f(k + 1, 0x3f3f3f3f); // Initialize only the needed range\n    f[0] = 0;\n\n    for(int i = 0; i < n; ++i) {\n        std::cin >> w[i];\n    }\n\n    for(int i = 1; i < n; ++i) {\n        for(int j = 1; j <= k && (i - j) >= 0; ++j) {\n            f[i % (k + 1)] = std::min(f[i % (k + 1)], f[(i - j) % (k + 1)] + std::abs(w[i - j] - w[i]));\n        }\n    }\n\n    int result = f[(n - 1) % (k + 1)];\n    // Uncomment the following lines to check all final array values\n    // for(int i = 0; i <= k; ++i) {\n    //     std::cout << \"f[\" << i << \"]: \" << (f[i] == 0x3f3f3f3f ? 0 : f[i]) << std::endl;\n    // }\n    std::cout << (result == 0x3f3f3f3f ? 0 : result);\n    return 0;\n}\n"}