{"optimized_code": "#include <bits/stdc++.h>\n\n#define INF 0x3f3f3f3f\n\nusing namespace std;\n\nconst int maxn = 1e6+10;\n\nint a[maxn];\n\nint dp[maxn];\n\nint main() {\n    int n, k;\n    memset(dp, INF, sizeof dp);\n    scanf(\"%d%d\", &n, &k);\n\n    for (int i = 1; i <= n; i++) {\n        scanf(\"%d\", a + i);\n    }\n\n    dp[1] = 0;\n    for (int i = 1; i <= n - 1; i++) {\n        int curr_val = dp[i];\n        for (int j = 1; j <= k && i + j <= n; j++) {\n            dp[i + j] = min(dp[i + j], curr_val + abs(a[i + j] - a[i]));\n        }\n    }\n\n    printf(\"%d\\n\", dp[n]);\n    return 0;\n}"}