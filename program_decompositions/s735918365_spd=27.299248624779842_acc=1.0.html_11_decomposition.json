{"optimized_code": "#include <iostream>\n#include <algorithm>\n#include <cstring>\nusing namespace std;\n\n#define ll long long int\n\nint f(int n, int k, int* a, int* dp, int32_t i) {\n    if(i == (n-1)) return 0;\n    if(i >= n) return INT_MAX;\n    if(dp[i] != -1) return dp[i];\n    int32_t ans = INT_MAX;\n    for(int32_t j=1; j<=k; j++) {\n        if(j+i > n-1) break;\n        else ans = min(ans, abs(a[i] - a[i+j]) + f(n, k, a, dp, i+j));\n    }\n    return dp[i] = ans;\n}\n\nint main() {\n    ios :: sync_with_stdio(false); cin.tie(0);\n    int n, k;\n    cin >> n >> k;\n    int* a = new int[n];\n    int* dp = new int[n];\n    memset(dp, -1, n * sizeof(int));\n    for(int i = 0; i < n; i++)\n        cin >> a[i];\n    int ans = f(n, k, a, dp, 0);\n    cout << ans << endl;\n    delete[] a;\n    delete[] dp;\n}"}