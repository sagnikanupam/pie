{"optimized_code": "#include <iostream>\n#include <algorithm>\n#include <cstring>\n\nusing namespace std;\n\nconst int MAXN = 1000010;\nconst long long INF = 0x3f3f3f3f;\n\nstruct HeightAndDP {\n    long long height;\n    long long dpValue;\n};\n\nHeightAndDP arr[MAXN];\nlong long n, k;\n\nint main() {\n    memset(arr, 0, sizeof arr);\n    scanf(\"%lld%lld\", &n, &k);\n\n    for (int i = 1; i <= n; i++) {\n        arr[i].dpValue = INF;\n        scanf(\"%lld\", &arr[i].height);\n    }\n    arr[1].dpValue = 0;\n    arr[0].dpValue = 0;\n    arr[2].dpValue = abs(arr[2].height - arr[1].height);\n\n    for (int i = 2; i <= n; i++) {\n        for (int j = i - 1; j >= max(i - k, 1ll); j--) {\n            arr[i].dpValue = min(arr[i].dpValue, arr[j].dpValue + abs(arr[i].height - arr[j].height));\n        }\n    }\n    cout << arr[n].dpValue << endl;\n    return 0;\n}"}