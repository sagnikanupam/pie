{"optimized_code": "#include<bits/stdc++.h>\n\nusing namespace std;\n\nint main(){\n    long long s, i(1);\n    set<long long> seen;\n\n    scanf(\"%lld\", &s);\n\n    // Direct check for 1 and 2\n    if (s == 1 || s == 2) {\n        printf(\"4\");\n        return 0;\n    }\n\n    while(true){\n        if(seen.find(s) != seen.end()) return 0 & printf(\"%lld\", i);\n\n        seen.insert(s);\n\n        if(s & 1) s = 3 * s + 1;\n        else s >>= 1;\n\n        ++i;\n    }\n}\n"}