{"optimized_code": "#include <iostream>\n#include <algorithm>\n#include <string>\n#include <cstring>\n#include <iomanip>\n#include <climits>\n\nusing namespace std;\n\ntypedef long long ll;\n\nconst int maxn=1e6+1111;\n\nint arr[maxn];\nint dp[maxn];\n\nint main(){\n    int n, k;\n    scanf(\"%d%d\", &n, &k);\n\n    dp[0] = 0;\n    dp[1] = 0;\n\n    for(int i=1; i<=n; ++i) {\n        scanf(\"%d\", arr+i);\n    }\n\n    for(int i=2; i<=n; ++i) {\n        dp[i] = dp[i-1] + abs(arr[i] - arr[i-1]);\n        for(int j=2; j<=k && i-j>=0; ++j) {\n            dp[i] = min(dp[i-j] + abs(arr[i] - arr[i-j]), dp[i]);\n        }\n    }\n\n    printf(\"%d\\n\", dp[n]);\n\n    return 0;\n}"}