{"optimized_code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\n\nint main() {\n    int s;\n    cin >> s;\n\n    unordered_set<int> seen;\n    seen.insert(s);\n\n    int ans = 0;\n\n    while (s != 1) {\n        if (s == 4 || s == 3) {\n            ans += 3;  // Adding 3 for the sequence reaching 4 or 3\n            break;\n        }\n        s = (s % 2 == 0) ? s / 2 : 3 * s + 1;\n\n        if (seen.insert(s).second == false) {\n            ans++;\n        }\n    }\n\n    cout << ans << endl;\n}"}