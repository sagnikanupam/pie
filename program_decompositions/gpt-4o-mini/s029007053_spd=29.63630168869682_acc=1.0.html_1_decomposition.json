{"optimized_code": "#include<iostream>\n#include<cmath>\n#include<cstdio>\n#include<cstring>\nusing namespace std;\n\nint n,m,f[1100000],w[1100000],k;\n\nint main ()\n{\n\tcin>>n>>k;\n\tmemset(f,0x3f,sizeof(int) * (k + 1)); // Only initialize the first k elements\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tcin>>w[i];\n\t}\n\tf[1]=0;\n\tfor(int i=2;i<=n;i++)\n\t{\n\t\tfor(int j=1;j<=k;j++)\n\t\t{\n\t\t\tif(i-j<=0) break;\n\t\t\tf[i]=min(f[i],f[i-j]+abs(w[i-j]-w[i]));\n\t\t}\n\t}\n\tcout<<f[n];\n}"}