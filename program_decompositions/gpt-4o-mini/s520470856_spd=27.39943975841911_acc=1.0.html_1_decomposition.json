{"optimized_code": "#include<bits/stdc++.h>\n\nusing namespace std;\n\nint main(){\n  int s;\n  cin >> s;\n  vector<int> a(10000, 0); // Reduced size to 10,000\n\n  a.at(s)++;\n  for(int i=2; i<10000; i++){ // Adjusted loop limit to match vector size\n    if(s % 2 == 0){\n      s /= 2;\n      if(s < 10000)  // Check to prevent out of bounds access\n        a.at(s)++;\n    }else{\n      s *= 3;\n      s++;\n      if(s < 10000)  // Check to prevent out of bounds access\n        a.at(s)++;\n    }\n\n    if(s < 10000 && a.at(s) == 2){ // Check to ensure we are within bounds\n      cout << i << endl;\n      break;\n    }\n  }\n\n  return 0;\n}"}