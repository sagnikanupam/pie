{"optimized_code": "#include <bits/stdc++.h>\n\n#define ll long long\n\n#define endl \"\\n\"\n\nusing namespace std;\n\ninline int D() {\n    int t;\n    scanf(\"%d\", &t);\n    return t;\n}\n\ninline ll llD() {\n    ll t;\n    scanf(\"%lld\", &t);\n    return t;\n}\n\nconst int Max = 1e6 + 9;\n\nll a[Max];\n\nint main() {\n    int n = D();\n    int m = D();\n    for (int i = 0; i < n; i++) {\n        a[i] = llD();\n    }\n\n    vector<ll> dp(n + m + 1, LLONG_MAX);\n    dp[n - 1] = 0;\n\n    for (int i = n - 2; i >= 0; i--) {\n        for (int j = 0; j <= m && (i + j < n); j++) {\n            dp[i] = min(dp[i], dp[i + j] + abs(a[i] - a[i + j]));\n        }\n    }\n\n    printf(\"%lld\", dp[0]);\n}\n"}