{"optimized_code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint main() {\n    set<int> set1;\n    int s;\n    cin >> s;\n    set1.insert(s);\n\n    for(int i=1; i<1000000; i++) {\n        if(s % 2 == 0) {\n            if(set1.count(s / 2)) {\n                cout << i + 1 << endl;\n                return 0;\n            } else {\n                set1.insert(s / 2);\n                s /= 2;\n            }\n        } else {\n            if(set1.count(s * 3 + 1)) {\n                cout << i + 1 << endl;\n                return 0;\n            } else {\n                set1.insert(s * 3 + 1);\n                s = 3 * s + 1;\n            }\n        }\n    }\n}"}