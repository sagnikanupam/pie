{"optimized_code": "#include <iostream>\n#include <algorithm>\n#include <cstring>\n#define maxn 1000010\n#define ll long long\n#define inf 0x3f3f3f3f\nusing namespace std;\n\nstruct HeightAndDP {\n    ll h;\n    ll dp;\n};\n\nHeightAndDP arr[maxn];\nll n, k;\n\nint main() {\n    memset(arr, 0, sizeof arr);\n    scanf(\"%lld%lld\", &n, &k);\n\n    for (int i = 1; i <= n; i++) {\n        arr[i].dp = inf;\n        scanf(\"%lld\", &arr[i].h);\n    }\n    arr[1].dp = 0;\n    arr[0].dp = 0;\n    arr[2].dp = abs(arr[2].h - arr[1].h);\n    for (int i = 2; i <= n; i++) {\n        for (int j = i - 1; j >= max(i - k, 1ll); j--)\n            arr[i].dp = min(arr[i].dp, arr[j].dp + abs(arr[i].h - arr[j].h));\n    }\n    cout << arr[n].dp << endl;\n    return 0;\n}"}