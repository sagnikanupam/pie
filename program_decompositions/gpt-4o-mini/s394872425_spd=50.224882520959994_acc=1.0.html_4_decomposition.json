{"optimized_code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\n\nint main() {\n    int s;\n    cin >> s;\n    set<int> used;\n    used.insert(s);\n\n    while (true) {\n        if (s % 2 == 0) {\n            s /= 2;\n        } else {\n            s = s * 3 + 1;\n        }\n\n        // Check if we have encountered this number before\n        if (used.count(s) > 0) {\n            break;\n        }\n        used.insert(s);\n    }\n\n    cout << used.size() << endl; // Size of set corresponds to the number of unique steps taken\n    return 0;\n}"}