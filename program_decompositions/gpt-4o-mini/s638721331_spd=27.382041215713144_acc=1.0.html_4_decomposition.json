{"optimized_code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint main() {\n  int s; cin >> s;\n\n  set<int> se;\n  se.insert(s);  // Changed direct assignment to insert\n\n  int i = 0;\n  int current = s;\n  int pre = s; // Variable to hold the previous number\n\n  while (true) {\n    if (current % 2 == 0) {\n      current /= 2;\n    } else {\n      current = 3 * current + 1;\n    }\n\n    if (current == pre) { // Check to avoid unnecessary insert\n        i++;\n        cout << i + 1 << endl;\n        return 0;\n    }\n\n    i++;\n    pre = current; // Update previous number\n\n    if (se.find(current) != se.end()) {\n      cout << i + 1 << endl;\n      return 0;\n    }\n\n    se.insert(current);\n  }\n}"}