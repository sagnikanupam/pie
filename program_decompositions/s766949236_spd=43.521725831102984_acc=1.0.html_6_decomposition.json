{"optimized_code": "#include <iostream>\n#include <vector>\n#include <string>\n\nusing namespace std;\n\nint N, M;\nbool used[1 << 18];\nint A[1 << 18];  // Using A to count penalties directly\n\nint main() {\n\n    cin >> N >> M;\n\n    int sum1 = 0, sum2 = 0;\n\n    for (int i = 1; i <= M; i++) {\n\n        int a;\n        string b;\n        cin >> a >> b;\n\n        if (!used[a]) {\n            if (b == \"AC\") {\n                used[a] = true;\n                sum1++;\n                sum2 += A[a];  // Add accumulated penalties when problem is solved\n            } else if (b == \"WA\") {\n                A[a]++;\n            }\n        }\n\n    }\n\n    cout << sum1 << \" \" << sum2 << endl;\n\n    return 0;\n\n}\n"}