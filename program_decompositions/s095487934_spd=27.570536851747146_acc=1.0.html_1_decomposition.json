{"optimized_code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint main() {\n    unordered_set<int> a;\n    int s;\n    cin >> s;\n    a.insert(s);\n\n    for (int i = 1; i < 1000000; i++) {\n        if (s % 2 == 0) {\n            s /= 2;\n            if (a.find(s) != a.end()) {\n                cout << i + 1 << endl;\n                return 0;\n            }\n            a.insert(s);\n        } else {\n            s = 3 * s + 1;\n            if (a.find(s) != a.end()) {\n                cout << i + 1 << endl;\n                return 0;\n            }\n            a.insert(s);\n        }\n    }\n}"}