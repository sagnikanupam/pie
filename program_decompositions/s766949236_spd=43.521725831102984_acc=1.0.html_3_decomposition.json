{"optimized_code": "#include <iostream>\n \n #include <string>\n \n using namespace std;\n \n \n \n int main() {\n \n     ios::sync_with_stdio(false);\n \n     cin.tie(nullptr);\n \n     \n \n     int N, M;\n \n     cin >> N >> M;\n \n     // Assuming N and M are up to 1 << 18, but using vectors for flexibility\n \n     vector<int> P(M + 1);\n \n     vector<string> S(M + 1);\n \n     vector<bool> used(N + 1, false);\n \n     vector<int> A(N + 1, 0);\n \n     \n \n     for (int i = 1; i <= M; i++) {\n \n         cin >> P[i] >> S[i];\n \n         if (S[i] == \"AC\") {\n \n             used[P[i]] = true;\n \n         }\n \n         else if (!used[P[i]]) {\n \n             A[P[i]]++;\n \n         }\n \n     }\n \n \n \n     int sum1 = 0, sum2 = 0;\n \n     for (int i = 1; i <= N; i++) {\n \n         if (used[i]) {\n \n             sum1++;\n \n             sum2 += A[i];\n \n         }\n \n     }\n \n \n \n     cout << sum1 << \" \" << sum2 << \"\\n\";\n \n     return 0;\n \n }\n"}