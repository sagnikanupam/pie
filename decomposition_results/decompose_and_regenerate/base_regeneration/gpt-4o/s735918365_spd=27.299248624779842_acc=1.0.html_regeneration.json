{"optimized_code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define pr(x) cout<<x\n#define prs cout<<\" \"\n#define prn cout<<\"\\n\"\n#define sc(x) cin>>x\n#define ll long long int\n\nint n, k;\nint a[1000005];\nint dp[1000005];\n\nint solve(int i) {\n    if (i == n - 1) return 0;\n    if (i >= n) return INT_MAX;\n    if (dp[i] != -1) return dp[i];\n\n    int min_cost = INT_MAX;\n    for (int j = 1; j <= k && j + i < n; ++j) {\n        min_cost = min(min_cost, abs(a[i] - a[i + j]) + solve(i + j));\n    }\n    return dp[i] = min_cost;\n}\n\nint main() {\n    ios::sync_with_stdio(false); cin.tie(0);\n\n    int t = 1;\n    for (int i9 = 1; i9 <= t; ++i9) {\n        cin >> n >> k;\n\n        memset(dp, -1, sizeof(dp));\n        for (int i = 0; i < n; ++i)\n            cin >> a[i];\n\n        cout << solve(0) << endl;\n    }\n}"}