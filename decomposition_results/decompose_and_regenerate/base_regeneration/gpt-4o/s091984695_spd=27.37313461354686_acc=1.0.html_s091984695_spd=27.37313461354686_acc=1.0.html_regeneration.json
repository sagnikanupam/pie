{"optimized_code": "#include <iostream> // cout, endl, cin\n#include <unordered_set> // Unordered set for faster lookup\n\nusing namespace std;\n\ntypedef long long ll;\n\nint calc(int a) {\n    return (a % 2 == 0) ? a / 2 : 3 * a + 1;\n}\n\nint main() {\n    int s;\n    cin >> s;\n\n    unordered_set<int> seen;\n    seen.insert(s);\n\n    int current = s;\n    for(int i = 1; ; i++) {\n        current = calc(current);\n        if(seen.find(current) != seen.end()) {\n            cout << i + 1 << endl;\n            return 0;\n        }\n        seen.insert(current);\n    }\n\n    return 0;\n}"}