{"optimized_code": "#include <iostream>\n#include <unordered_set>\n\nusing namespace std;\n\nint main() {\n    long long s, i = 1;\n    scanf(\"%lld\", &s);\n    unordered_set<long long> seen;\n    \n    while (true) {\n        if (seen.find(s) != seen.end()) {\n            printf(\"%lld\", i);\n            return 0;\n        }\n        seen.insert(s);\n        s = (s & 1) ? (3 * s + 1) : (s >> 1);\n        ++i;\n    }\n}\n"}