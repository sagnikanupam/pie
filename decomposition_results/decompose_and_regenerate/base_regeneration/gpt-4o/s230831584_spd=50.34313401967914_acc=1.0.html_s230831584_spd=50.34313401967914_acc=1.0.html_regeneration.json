{"optimized_code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define IO ios::sync_with_stdio(false), cin.tie(0)\n\ntypedef long long ll;\n\nconst int maxn = 1e6 + 5;\nconst int inf = 0x3f3f3f3f;\n\nll a[maxn];\nll dp[maxn];\n\nint main()\n{\n    IO;\n\n    int n, k;\n    cin >> n >> k;\n\n    for (int i = 1; i <= n; ++i)\n        cin >> a[i];\n\n    fill(dp, dp + n + 1, inf);\n    dp[1] = 0;\n\n    for (int i = 2; i <= n; ++i)\n    {\n        for (int j = 1; j <= k && (i - j) >= 1; ++j)\n        {\n            dp[i] = min(dp[i], dp[i - j] + abs(a[i] - a[i - j]));\n        }\n    }\n\n    cout << dp[n] << endl;\n}\n"}