{"optimized_code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <cmath>\n#include <vector>\n#include <algorithm>\n\n#define MAXN 1000010\n#define INF 0x3f3f3f3f3f3f3f3f\n\nusing namespace std;\n\ntypedef long long ll;\n\nint main() {\n    ll n, k;\n    vector<ll> h(MAXN), dp(MAXN, INF);\n    \n    scanf(\"%lld%lld\", &n, &k);\n    \n    h[0] = 0; // Initial condition for index 0\n    \n    for (int i = 1; i <= n; ++i) {\n        scanf(\"%lld\", &h[i]);\n    }\n\n    dp[1] = 0;\n\n    for (int i = 2; i <= n; ++i) {\n        for (int j = i - 1; j >= max(i - k, 1LL); --j) {\n            dp[i] = min(dp[i], dp[j] + abs(h[i] - h[j]));\n        }\n    }\n\n    printf(\"%lld\\n\", dp[n]);\n\n    return 0;\n}\n"}