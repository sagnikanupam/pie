{"optimized_code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint main() {\n  int s; cin >> s;\n  set<int> se;\n  int pre = s;\n  int i = 1;\n  se.insert(pre);\n  while (true) {\n    if (pre % 2 == 0) {\n      pre = pre / 2;\n    } else {\n      pre = 3 * pre + 1;\n    }\n    if (se.find(pre) != se.end()) {\n      cout << i + 1 << endl;\n      return 0;\n    }\n    se.insert(pre);\n    i++;\n  }\n}"}